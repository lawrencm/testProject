<!DOCTYPE html>
<html ng-app="requirementModule">
<head>
	<title>Bootstrap 101 Template</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Bootstrap -->

	<script src="/js/angular.min.js"></script>



	<link href="/styles/bootstrap.css" rel="stylesheet" media="screen">
	<link href="/styles/bootstrap-glyphicons.css" rel="stylesheet" media="screen">

</head>
<body ng-app>









	<div class="container" ng-controller="FetchRequirements">
    <% if (user){ %>
	<h1>You are logged in as <img src="<%= user.avatar %>" style="wdith:32px;height:32px" alt="<%=user.uid%>"/><%= user.appDisplayName() %></h1>

    <% }; %>

		<!-- Modal -->
		<div class="modal fade" id="myModal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title">Edit Requirement: {{activeRec.id}} </h4>
					</div>
					<div class="modal-body">
						<form>
							<fieldset>
								<!-- <legend>Legend</legend> -->

								<div class="form-group">
									<label for="title">Title</label>
									<input type="text" class="form-control" id="title" placeholder="Title"  required ng-model="activeRec.title">
								</div>



								<div class="form-group">
									<label for="importance">Importance</label>
									<select class="form-control" name="importance" ng-model="activeRec.importance" ng-options="i.value as i.name for i in moscowOptions">

									</select>
								</div> 


								<!-- <button type="submit" class="btn btn-default">Submit</button> -->
							</fieldset>
						</form>


					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" ng-click="closeEditForm()" data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary" ng-click="setEditReq()" data-dismiss="modal">Save changes</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->    

		<div class="alert alert-success">{{status}}</div>


		<pre>http status code: {{status}}</pre>
		<!-- <pre>http response data: {{data | json}}</pre> -->
		<!-- <button ng-click="updateModel('GET', '/requirement')">update</button> -->

<a href="#" data-toggle="tooltip" title="first tooltip">Hover over me</a>
       <table class="table table-hover" id="req-table">
			<thead>
				<tr>
					<th>#</th>
					<th>title</th>
					<th>importance</th>
					<th>category</th>
					<th>Last Updated</th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="req in data" ng-dblclick="viewRequirement(req.id)" id="requirement{{reqid}}">
					<td>{{req.id}}</td>
					<td>{{req.title}}</td>
					<td>{{req.importance|moscow}}</td>
					<td>{{req.category}}</td>
					<td>{{ req.updatedAt | date:'medium'}}</td>
                    <td>

                        <div class="warpper" style="position:relative">


                        <div class="dropdown">
                            <a id="drop6" role="button" data-toggle="dropdown" href="#" class="btn btn-primary btn-small glyphicon glyphicon-cog"></a>
                            <ul id="menu3" class="dropdown-menu" role="menu" aria-labelledby="drop6">
                                <li role="presentation"><a role="menuitem" tabindex="-1" data-toggle="modal" href="#myModal" class="glyphicon glyphicon-pencil req-edit" ng-click="updateLocalDataItem(req.id,'active')"> Edit Requirement</a></li>
                                <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="destroyReq(req.id)" class="glyphicon glyphicon-trash req-destroy"> Delete Requirement</a></li>
                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="http://twitter.com/fat">Something else here</a></li>-->
                                <!--<li role="presentation" class="divider"></li>-->
                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="http://twitter.com/fat">Separated link</a></li>-->
                            </ul>
                        </div>
                        </div>


                        <!--<div class="dropdown">-->
                            <!--<a id="dLabel" role="button" data-toggle="dropdown" data-target="#" href="/page.html">-->
                                <!--Dropdown <span class="caret"></span>-->
                            <!--</a>-->
                            <!--<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">-->
                                <!--...-->
                            <!--</ul>-->


                        <!--<div class="dropdown">-->
                            <!--&lt;!&ndash; Link or button to toggle dropdown &ndash;&gt;-->
                            <!--<a id="dLabel" role="button" data-toggle="dropdown" data-target="#" href="/page.html">-->
                                <!--Dropdown <span class="caret"></span>-->
                            <!--</a>-->

                            <!--<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">-->
                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Action</a></li>-->
                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another action</a></li>-->
                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>-->
                                <!--<li role="presentation" class="divider"></li>-->
                                <!--<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Separated link</a></li>-->
                            <!--</ul>-->
                        <!--</div>-->


                        <!--<div class="dropdown">-->
                            <!--<a id="dLabel" role="button" data-toggle="dropdown" data-target="#" href="/page.html">-->
                                <!--Dropdown <span class="caret"></span>-->
                            <!--</a>-->
                            <!--<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">-->
                                <!--...-->
                            <!--</ul>-->
                        <!--</div>-->

                        <!--<div id="req-actions-list-{{req.id}}" style="display:none">-->
                            <!--<p><a data-toggle="modal" title="Edit requirent {{req.id}}" href="#myModal" class="glyphicon glyphicon-pencil req-edit" ng-click="updateLocalDataItem(req.id,'active')">Edit Requirement</a></p>-->
                            <!--<p><a ng-click="destroyReq(req.id)" title="Delete requirent {{req.id}}"  class="glyphicon glyphicon-trash req-destroy">Delete Requirement</a></p>-->
                        <!--</div>-->

                    </td>

					</tr>

           </tbody>
			</table>






		</div>




		<!-- JavaScript plugins (requires jQuery) -->
		<script src="/js/jquery.1.10.2.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="/js/bootstrap.js"></script>

		<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
		<script src="js/respond.js"></script>

		<script src="/js/script.js"></script>

	</body>
	</html>